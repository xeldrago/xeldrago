{% extends "base.html" %}
{% block content %}
<h2>Admin Page</h2>

<h3>Junior Drivers</h3>

<!-- Add a search form -->
<form method="GET" action="{{ url_for('admin') }}" class="search-form">
    <input type="text" name="search_query" placeholder="Search by First Name">
    <button type="submit" class="btn btn-primary">Search</button>
</form>

<table class="table-container">
    <tr>
        <th>Driver ID</th>
        <th>First Name</th>
        <th>Surname</th>
        <th>Date of Birth</th>
        <th>Age</th>
        <th>Actions</th> <!-- New column for Edit and Delete buttons -->
    </tr>
    {% for driver in junior_drivers %}
    <tr>
        <td>{{ driver[0] }}</td>
        <td>{{ driver[1] }}</td>
        <td>{{ driver[2] }}</td>
        <td>{{ driver[3] }}</td>
        <td>{{ driver[4] }}</td>
        <td>
            <a href="{{ url_for('edit_driver', driver_id=driver[0]) }}" class="btn btn-primary">Edit</a>
            <form method="POST" action="{{ url_for('delete_driver', driver_id=driver[0]) }}" style="display: inline;">
                <button type="submit" class="btn btn-danger">Delete</button>
            </form>
        </td>
    </tr>
    {% endfor %}
</table>

<!-- Add a form for adding a new driver -->
<h3>Add New Driver</h3>
<form method="POST" action="{{ url_for('add_driver') }}" class="add-driver-form">
    <label for="first_name">First Name:</label>
    <input type="text" name="first_name" required>
    <label for="surname">Surname:</label>
    <input type="text" name="surname" required>
    <label for="date_of_birth">Date of Birth:</label>
    <input type="date" name="date_of_birth" required>

    <!-- Add a field for the car information -->
    <label for="car">Car:</label>
    <input type="text" name="car">

    <button type="submit" class="btn btn-success">Add Driver</button>
</form>

</div>
{% endblock %}